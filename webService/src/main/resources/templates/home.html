<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Asklepios</title>
    <script
			src="https://kit.fontawesome.com/68dda164c0.js"
			crossorigin="anonymous"
    ></script>
  <link rel="stylesheet" href="CSS/home.css" />
  <link rel="icon" href="Img/logo_icon.png" type="image/x-icon">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <style>
    .tenada {
      font-family: 'Tenada', 'sans-serif';
    }
    #intro {
      width: 100%;
      height: 600px;
      background: #3b82f6;
      box-shadow: 0px 5px 15px 5px rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center; /* ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ */
      justify-content: space-between; /* ì¢Œìš° ì •ë ¬ */
    }
    #introTextContainer {
      display: inline-block;
      width: 900px;
      padding-left: 100px;
    }
    .introTitle {
      font-family: 'Pretendard-Regular', 'sans-serif';
      font-size: 50px;
      font-weight: bold;
      color: white;
      width: 900px;
    }
    .introSubject {
      font-family: 'Pretendard-Regular', 'sans-serif';
      font-size: 35px;
      color: white;
      width: 900px;
    }
    .introLogo {
      font-family: 'Tenada', 'sans-serif';
      font-size: 70px;
      font-weight: bold;
      color: white;
    }
    #slideImg {
      width: 660px;
      height: 600px; /* ë¶€ëª¨ ìš”ì†Œì˜ ë†’ì´ ëª…í™•íˆ ì§€ì • */
      position: relative; /* ìì‹ absolute ìš”ì†Œì˜ ê¸°ì¤€ì  ì„¤ì • */
      overflow: hidden; /* ë¶€ëª¨ ìš”ì†Œë¥¼ ë²—ì–´ë‚˜ëŠ” ì´ë¯¸ì§€ ìˆ¨ê¸°ê¸° */
      display: flex;
      align-items: center; /* ìˆ˜ì§ ì¤‘ì•™ ì •ë ¬ */
      justify-content: center; /* ìˆ˜í‰ ì¤‘ì•™ ì •ë ¬ */
    }
    #slideOne, #slideTwo, #slideThree, #slideFour {
      width: 90%; /* ë¶€ëª¨ ìš”ì†Œ í¬ê¸° ë”°ë¥´ë„ë¡ ì„¤ì • */
      height: auto; /* ê°€ë¡œ ë¹„ìœ¨ ìœ ì§€ */
      position: absolute;
      top: 50%; /* ë¶€ëª¨ ìš”ì†Œì˜ 50% ì§€ì  */
      left: 50%;
      transform: translate(-50%, -50%); /* ì •í™•íˆ ì¤‘ì•™ìœ¼ë¡œ ì´ë™ */
    }

    #popularHospital{
      width: 100%;
      height: 500px;
      background: white;
      margin-top: 40px;
      /*margin-left: 50px;*/
      padding-top: 60px;
      box-shadow: -1px 2px 15px 5px rgba(0, 0, 0, 0.2);
    }
    .popularTitle{
      font-family: 'Pretendard-Regular', 'sans-serif';
      font-size: 50px;
      font-weight: bold;
      color: #3b82f6;
      position: relative;
      top: -385px;
      left: 920px;
      width: 500px;
    }
    .popularSubject {
      font-family: 'Pretendard-Regular', 'sans-serif';
      font-size: 35px;
      color: #3b82f6;
      position: relative;
      top: -370px;
      left: 920px;
      width: 500px;
    }
    .popularEnd{
      font-family: 'Pretendard-Regular', 'sans-serif';
      font-size: 35px;
      color: #3b82f6;
      position: relative;
      top: -345px;
      left: 920px;
      width: 500px;
    }
    #rank{
      position: relative;
      left: 60px;
    }
    #first {
      font-family: 'Pretendard-Regular', 'sans-serif';
      position: relative;
      width: 700px;
      height: 60px;
      background: #2F568A;
      margin-bottom: 20px;
      padding-left: 20px;
      font-size: 30px;
      color: white;
      align-content: center;
      border-top-right-radius: 100px;
      border-bottom-right-radius: 100px;
    }
    #second {
      font-family: 'Pretendard-Regular', 'sans-serif';
      position: relative;
      width: 650px;
      height: 60px;
      background: #4075BC;
      margin-bottom: 20px;
      padding-left: 20px;
      font-size: 30px;
      color: white;
      align-content: center;
      border-top-right-radius: 100px;
      border-bottom-right-radius: 100px;
    }
    #third{
      font-family: 'Pretendard-Regular', 'sans-serif';
      position: relative;
      width: 600px;
      height: 60px;
      background: #5B88C5;
      margin-bottom: 20px;
      padding-left: 20px;
      font-size: 30px;
      color: white;
      align-content: center;
      border-top-right-radius: 100px;
      border-bottom-right-radius: 100px;
    }
    #forth{
      font-family: 'Pretendard-Regular', 'sans-serif';
      position: relative;
      width: 550px;
      height: 60px;
      background: #769CCF;
      margin-bottom: 20px;
      padding-left: 20px;
      font-size: 30px;
      color: white;
      align-content: center;
      border-top-right-radius: 100px;
      border-bottom-right-radius: 100px;
    }
    #fifth {
      font-family: 'Pretendard-Regular', 'sans-serif';
      position: relative;
      width: 500px;
      height: 60px;
      background: #91B0D8;
      padding-left: 20px;
      font-size: 30px;
      color: white;
      align-content: center;
      border-top-right-radius: 100px;
      border-bottom-right-radius: 100px;
    }
    #review{
      width: 100%;
      height: 450px;
      background: #3b82f6;
      margin-top: 40px;
      /*margin-right: 50px;*/
      box-shadow: 0px 5px 15px 5px rgba(0, 0, 0, 0.5)
    }
    #reviewImage {
      width: 1000px;
      position: relative;
      top: -320px;
      left: 600px;
      display: flex;
    }
    #reviewImageStar, #reviewImageMsg {
      flex: 1;
      max-width: 400px; /* ìµœëŒ€ ë„ˆë¹„ ì§€ì • */
      text-align: center; /* ì´ë¯¸ì§€ ê°€ìš´ë° ì •ë ¬ */
    }
    .reviewTitle{
      width: 550px;
      font-family: 'Pretendard-Regular', 'sans-serif';
      font-size: 50px;
      font-weight: bold;
      color: white;
      position: relative;
      left: 60px;
      top: 30px;
    }
    .reviewSubject{
      width: 550px;
      font-family: 'Pretendard-Regular', 'sans-serif';
      font-size: 35px;
      color: white;
      position: relative;
      left: 60px;
      top: 100px;
    }
    #membership {
      width: 100%;
      height: 700px;
      background: white;
      margin-top: 40px;
      box-shadow: 0px 5px 15px 5px rgba(0, 0, 0, 0.5);
      margin-bottom: 30px;

      /* ğŸ”¹ flex ì ìš© */
      display: flex;
      flex-direction: column;
      align-items: center;  /* ìˆ˜í‰ ì¤‘ì•™ ì •ë ¬ */
      justify-content: center;  /* ìˆ˜ì§ ì¤‘ì•™ ì •ë ¬ */
    }
    .membershipTitle {
      font-family: 'Pretendard-Regular', 'sans-serif';
      font-size: 50px;
      font-weight: bold;
      color: #3b82f6;
      text-align: center;
      margin-bottom: 20px;  /* ê°„ê²© ì¶”ê°€ */
    }
    #membershipImage {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;  /* ê°„ê²© ì¶”ê°€ */
    }
    .membershipSubject {
      font-family: 'Pretendard-Regular', 'sans-serif';
      font-size: 35px;
      color: #3b82f6;
      text-align: center;
      padding: 5px;
    }
    .animate-on-left {
      opacity: 0;
      transform: translateX(-20px);
      transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
    .animate-on-right {
      opacity: 0;
      transform: translateX(20px);
      transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
    .animate-on-top {
      opacity: 0;
      transform: translateY(-20px);
      transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
    .animate-on-bottom {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
    .animate-on-left.show, .animate-on-right.show, .animate-on-top.show, .animate-on-bottom.show {
      opacity: 1;
      transform: translateY(0);
    }
    #footer{
      display: flex;
      position: sticky;
      bottom: 0px;
    }
  </style>
</head>
<body>
<div th:replace="~{include/header}"></div>
<div class="homeContainer">
  <div id="sectionHome">
    <div id="intro" class=" animate-on-top">
      <div id="introTextContainer">
        <div class="introTitle">ì˜ˆì•½ì´ í˜ë“œì‹ ê°€ìš”?</div>
        <div class="introTitle" style="margin-bottom: 20px">ê¸°ë‹¤ë¦¬ëŠ” ì‹œê°„ì´ ì§€ì¹˜ì‹œì£ ?</div>
        <div class="introSubject"><span style="font-size:45px; font-weight: bold;" class="tenada">ASKLEPIOS</span> ì—ì„œ ì†ì‰½ê²Œ ì˜ˆì•½í•˜ê³ </div>
        <div class="introSubject" style="margin-bottom: 20px">ëŒ€ê¸° ì—†ì´ ì§„ë£Œë¥¼ ë°›ì•„ë³´ì„¸ìš” !</div>
        <div class="introLogo">ASKLEPIOS</div>
      </div>
      <div id="slideImg">
        <div id="slideOne"><img src="Img/reservationPlace.png" alt="" style="border-radius: 20px; box-shadow: 10px 0 5px 0 rgba(0, 0, 0, 0.2);"></div>
        <div id="slideTwo"><img src="Img/review.png" alt="" style="border-radius: 20px; box-shadow: 10px 0 5px 0 rgba(0, 0, 0, 0.2); "></div>
        <div id="slideThree"><img src="Img/reservation.png" alt="" style="border-radius: 20px; box-shadow: 10px 0 5px 0 rgba(0, 0, 0, 0.2); "></div>
        <div id="slideFour"><img src="Img/reservationForm.png" alt="" style="border-radius: 20px; box-shadow: 10px 0 5px 0 rgba(0, 0, 0, 0.2);"></div>
      </div>
    </div>
    <div id="popularHospital" class="animate-on-left">
      <div id="rank">
        <div id="first" class="animate-on-left">1. ?</div>
        <div id="second" class="animate-on-left">2. ?</div>
        <div id="third" class="animate-on-left">3. ?</div>
        <div id="forth" class="animate-on-left">4. ?</div>
        <div id="fifth" class="animate-on-left">5. ?</div>
      </div>
      <div>
        <div class="popularTitle">ì–´ëŠ ë³‘ì›ì´ ì¸ê¸°ìˆë‚˜ìš”?</div>
        <div class="popularSubject"><span style="font-size:50px; font-weight: bold;" class="tenada">ASKLEPIOS</span> ì—ì„œëŠ”</div>
        <div class="popularSubject">ì˜ˆì•½ ìˆœìœ„ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤.</div>

        <div class="popularEnd">ë¡œê·¸ì¸í•˜ë©´ ê°€ì¥ ë§ì´ ì˜ˆì•½ëœ ë³‘ì›ì„ í•œëˆˆì— í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
        <div class="popularEnd">ì§€ê¸ˆ ë°”ë¡œ í™•ì¸í•˜ì„¸ìš”!"</div>
        <img src="Img/bluearrow.gif" alt="" style="position: relative; width: 200px; z-index: 3; top: -580px; left: 690px; transform: scale(0.7); filter: saturate(20);">
      </div>
    </div>
    <div id="review" class="animate-on-right">
      <div class="animate-on-right">
        <div class="reviewTitle">ì‚¬ëŒë“¤ì´ ë¨¼ì € ë‹¤ë…€ê°„ ë³‘ì›</div>
        <div class="reviewTitle">ë¯¿ê³  ì„ íƒí•˜ì„¸ìš” !</div>
        <div class="reviewSubject"><span style="font-size:45px; font-weight: bold;" class="tenada">ASKLEPIOS</span> ì—ì„œ</div>
        <div class="reviewSubject">ê³ ê°ë“¤ì˜ ì†”ì§í•œ ë¦¬ë·°ë¥¼ í™•ì¸í•˜ê³ </div>
        <div class="reviewSubject">ê°€ì¥ ë§Œì¡±ìŠ¤ëŸ¬ìš´ ë³‘ì›ì„ ì„ íƒí•´ë³´ì„¸ìš”.</div>
      </div>
      <div id="reviewImage">
        <div id="reviewImageStar" class="animate-on-right" style="display: inline-block">
          <img src="Img/review.png" alt="" style="border-radius: 20px; box-shadow: 2px 1px 10px 2px rgba(0, 0, 0, 0.5);width: 350px;position: relative;top: 50px;left: 60px;">
          <img src="Img/circle.gif" alt="" style="position: relative;width: 100px;z-index: 3;top: -120px;left: 80px;transform: scale3d(1.5, 1.5, 1.5);">
        </div>
        <div id="reviewImageMsg" class="animate-on-right" style="display: inline-block; margin-left: 50px;">
          <img src="Img/review.png" alt="" style="border-radius: 20px; box-shadow: 2px 1px 10px 2px rgba(0, 0, 0, 0.5);width: 350px;position: relative;top: 50px;left: 60px;">
          <img src="Img/check.gif" alt="" style="position: relative;width: 50px;z-index: 3;top: -100px;left: 100px;transform: scale3d(1.5, 1.5, 1.5);">
        </div>
      </div>
    </div>
    <div id="membership" class="animate-on-bottom">
      <div class="animate-on-bottom">
        <div class="membershipTitle">ë‚˜ì˜ ì˜ˆì•½ ìƒíƒœë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•˜ì„¸ìš” !</div>
      </div>
      <div id="membershipImage" class="animate-on-bottom"><img src="Img/reservationInfo.png" alt="" style="border-radius: 20px; box-shadow: 2px 1px 10px 2px rgba(0, 0, 0, 0.5); "></div>
      <div class="animate-on-bottom">
        <div class="membershipSubject"><span style="font-size:45px; font-weight: bold;" class="tenada">ASKLEPIOS</span>ì—ì„œëŠ” ì˜ˆì•½ í˜„í™©ì„ í•œëˆˆì— í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
        <div class="membershipSubject">ì˜ì‚¬ëŠ” ìŠ¹ì¸ ì—¬ë¶€ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•˜ê³ , ì§„ë£Œ ì¤€ë¹„ë¥¼ ë” í¸ë¦¬í•˜ê²Œ í•˜ì„¸ìš” !</div>
        <div class="membershipSubject">ì˜ì‚¬ì™€ í™˜ì ëª¨ë‘ì—ê²Œ ê°„í¸í•œ ì˜ˆì•½ ê´€ë¦¬ ì‹œìŠ¤í…œì„ ê²½í—˜í•´ë³´ì„¸ìš” !</div>
      </div>
    </div>
  </div>
  <aside style="margin-top: 30px;" id="aside2" th:insert="~{include/rightAside}"></aside>
</div>
<footer id="footer" th:replace="~{include/footer}">
</footer>
</body>
</html>
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script type="text/javascript">
  let slides = ['#slideOne', '#slideTwo', '#slideThree', '#slideFour'];
  let slideIndex = 0;
  let slideInterval;

  window.onload = function () {
    $.ajax({
      url: '/asklepios/popularHospital',
      type: 'post',
      success: function (data) {
        let ids = ["first", "second", "third", "forth", "fifth"];
        data.forEach((value, index) => {
          let element = document.getElementById(ids[index]);
          if (element) {
            element.textContent = index + 1 + ". " + value;
          }
        });
      },
      error: function () {
        alert("error");
      }
    });

    // ëª¨ë“  ì´ë¯¸ì§€ opacity ì´ˆê¸° ì„¤ì • (ì²« ë²ˆì§¸ë§Œ ë³´ì´ê²Œ)
    slides.forEach((slide, index) => {
      let slideEl = document.querySelector(slide);
      slideEl.style.opacity = index === 0 ? "1" : "0";
    });

    startSlideShow();

    // ğŸ”¹ [íƒ­ ì´ë™ ê°ì§€] íƒ­ì„ ë²—ì–´ë‚˜ë©´ ìŠ¬ë¼ì´ë“œ ì •ì§€, ë‹¤ì‹œ ëŒì•„ì˜¤ë©´ ì¬ì‹œì‘
    document.addEventListener("visibilitychange", function () {
      if (document.visibilityState === "hidden") {
        clearInterval(slideInterval); // íƒ­ì„ ë²—ì–´ë‚˜ë©´ ì• ë‹ˆë©”ì´ì…˜ ì •ì§€
      } else if (document.visibilityState === "visible") {
        startSlideShow(); // ë‹¤ì‹œ ëŒì•„ì˜¤ë©´ ì• ë‹ˆë©”ì´ì…˜ ì¬ì‹œì‘
      }
    });
  };

  function fadeIn(slideImg) {
    let opacity = 0;
    slideImg.style.visibility = "visible";
    function fade() {
      opacity += 0.02;
      slideImg.style.opacity = opacity;
      if (opacity < 1) {
        requestAnimationFrame(fade);
      }
    }
    requestAnimationFrame(fade);
  }

  function fadeOut(slideImg) {
    let opacity = 1;
    function fade() {
      opacity -= 0.02;
      slideImg.style.opacity = opacity;
      if (opacity <= 0) {
        slideImg.style.visibility = "hidden";
      } else {
        requestAnimationFrame(fade);
      }
    }
    requestAnimationFrame(fade);
  }

  function showSlide() {
    let currentSlide = document.querySelector(slides[slideIndex]);
    fadeOut(currentSlide);

    slideIndex = (slideIndex + 1) % slides.length;

    let nextSlide = document.querySelector(slides[slideIndex]);
    fadeIn(nextSlide);
  }

  function startSlideShow() {
    clearInterval(slideInterval); // ê¸°ì¡´ ì¸í„°ë²Œ ì œê±° í›„ ë‹¤ì‹œ ì‹œì‘
    slideInterval = setInterval(showSlide, 3000);
  }

  document.addEventListener('DOMContentLoaded', () => {
    let observer = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('show');
          observer.unobserve(entry.target); // ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ í›„ ë” ì´ìƒ ê´€ì°°í•˜ì§€ ì•ŠìŒ
        }
      });
    }, {
      threshold: 1 // ìš”ì†Œê°€ 60% í™”ë©´ì— ë³´ì´ë©´ íŠ¸ë¦¬ê±°
    });

    // ì• ë‹ˆë©”ì´ì…˜ ëŒ€ìƒ ì„ íƒ
    document.querySelectorAll('.animate-on-left').forEach(el => {
      observer.observe(el);
    });
    document.querySelectorAll('.animate-on-right').forEach(el => {
      observer.observe(el);
    });
    document.querySelectorAll('.animate-on-top').forEach(el => {
      observer.observe(el);
    });
    document.querySelectorAll('.animate-on-bottom').forEach(el => {
      observer.observe(el);
    });
  });

</script>

